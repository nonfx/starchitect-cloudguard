provider "azurerm" {
  alias = "fail_aws"
  features {}
}

# Configure Security Center subscription pricing without vulnerability assessment
resource "azurerm_security_center_subscription_pricing" "fail_test" {
  provider      = azurerm.fail_aws
  tier          = "Free"
  resource_type = "ContainerRegistry"
}

# Resource group for container registry
resource "azurerm_resource_group" "fail_rg" {
  provider = azurerm.fail_aws
  name     = "fail-resources"
  location = "West US"
}

# Container registry without vulnerability assessment
resource "azurerm_container_registry" "fail_acr" {
  provider            = azurerm.fail_aws
  name                = "failcontainerregistry"
  resource_group_name = azurerm_resource_group.fail_rg.name
  location            = azurerm_resource_group.fail_rg.location
  sku                 = "Basic"
  admin_enabled       = true
}